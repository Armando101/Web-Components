import{r as i,h as t,c as s,H as o}from"./p-d58c7118.js";const r=class{constructor(t){i(this,t)}render(){return t("div",{class:"lds-ellipsis"},t("div",null),t("div",null),t("div",null),t("div",null))}};r.style=".lds-ellipsis{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis div{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#fff;animation-timing-function:cubic-bezier(0, 1, 1, 0);background-color:black}.lds-ellipsis div:nth-child(1){left:8px;animation:lds-ellipsis1 0.6s infinite}.lds-ellipsis div:nth-child(2){left:8px;animation:lds-ellipsis2 0.6s infinite}.lds-ellipsis div:nth-child(3){left:32px;animation:lds-ellipsis2 0.6s infinite}.lds-ellipsis div:nth-child(4){left:56px;animation:lds-ellipsis3 0.6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0, 0)}100%{transform:translate(24px, 0)}}";const e=class{constructor(t){i(this,t),this.ucSymbolSelected=s(this,"ucSymbolSelected",7),this.searchResults=[],this.loading=!1}onFindStocks(i){i.preventDefault();const t=this.stockNameInput.value;this.loading=!0,fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${t}&apikey=GY15WVSH8G39ZJYS`).then((i=>i.json())).then((i=>{this.searchResults=i.bestMatches.map((i=>({name:i["2. name"],symbol:i["1. symbol"]}))),this.loading=!1})).catch((i=>{console.error(i),this.loading=!1}))}onSelectSymbol(i){this.ucSymbolSelected.emit(i)}render(){let i=t("ul",null,this.searchResults.map((i=>t("li",{onClick:this.onSelectSymbol.bind(this,i.symbol)},t("span",null,i.symbol," "),t("span",null,i.name)))));return this.loading&&(i=t("app-spinner",null)),[t("form",{onSubmit:this.onFindStocks.bind(this)},t("input",{id:"stock-symbol",ref:i=>this.stockNameInput=i,type:"text"}),t("button",{type:"submit"},"Find!")),i]}};e.style=":host{font-family:Arial, Helvetica, sans-serif;border:2px solid rgb(87, 3, 87);margin:2rem;padding:1rem;display:block}form input{font:inherit;color:rgb(87, 3, 87);padding:0.1rem 0.25rem;margin-block-end:0.5rem;display:block}form input:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid rgb(87, 3, 87);background-color:rgb(87, 3, 87);color:white;cursor:pointer}form button:hover,form button:active{background-color:rgb(175, 88, 175)}form button:disabled{background-color:#ccc;border-color:#ccc;color:white}ul{margin:0;padding:0;list-style:none}ul li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc}ul li span:first-child{font-weight:bold}li:hover,li:active{background-color:rgb(175, 88, 175);color:white}";const l=class{constructor(t){i(this,t),this.stockInputValid=!1,this.loading=!1}stockSymbolChanged(i,t){i!==t&&(this.stockUserInput=i,this.fetchStockPrice(i))}onUserInput(i){this.stockUserInput=i.target.value,this.stockInputValid=""!==this.stockUserInput.trim()}fetchStockPrice(i){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${i}&apikey=GY15WVSH8G39ZJYS`).then((i=>{if(200!==i.status)throw new Error("Invalid!");return i.json()})).then((i=>{const t=i["Global Quote"]["05. price"];if(!t)throw new Error("Invalid symbol!");this.error=null,this.price=Number(t),this.loading=!1})).catch((i=>{this.error=i.message,this.price=null,this.loading=!1}))}onFetchStockPrice(i){i.preventDefault(),this.stockSymbol=this.stockInput.value}componentDidLoad(){this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.stockInputValid=!0,this.fetchStockPrice(this.stockSymbol))}componentWillLoad(){}componentWillUpdate(){}componentDidUpdate(){}onStockSymbolSelected(i){console.log("Stock selected ",i.detail),i.detail&&i.detail!==this.stockSymbol&&(this.stockSymbol=i.detail)}disconnectedCallback(){console.log("componentDidUnload")}hostData(){return{class:this.error?"hydrated error":"hydrated"}}__stencil_render(){let i=t("p",null,"Please enter a symbol");return this.error&&(i=t("p",null,this.error)),this.price&&(i=t("p",null,"Price: $",this.price||0)),this.loading&&(i=t("app-spinner",null)),[t("form",{onSubmit:this.onFetchStockPrice.bind(this)},t("input",{id:"stock-symbol",ref:i=>this.stockInput=i,type:"text",value:this.stockUserInput,onInput:this.onUserInput.bind(this)}),t("button",{type:"submit",disabled:!this.stockInputValid||this.loading},"Fetch")),t("div",null,i)]}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return t(o,this.hostData(),this.__stencil_render())}};l.style=":host{font-family:Arial, Helvetica, sans-serif;border:2px solid rgb(87, 3, 87);margin:2rem;padding:1rem;display:block}:host(.error){border-color:orange}form input{font:inherit;color:rgb(87, 3, 87);padding:0.1rem 0.25rem;margin-block-end:0.5rem;display:block}form input:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid rgb(87, 3, 87);background-color:rgb(87, 3, 87);color:white;cursor:pointer}form button:hover,form button:active{background-color:rgb(175, 88, 175)}form button:disabled{background-color:#ccc;border-color:#ccc;color:white}";export{r as app_spinner,e as app_stock_finder,l as app_stock_price}